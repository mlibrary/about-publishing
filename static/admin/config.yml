backend:
  name: gitlab
  repo: michigan-creative/publishing
  auth_type: implicit
  app_id: 7a1434b77176325d09d8968ecf6d424c1d2f1bc38d2300b4fdb2ae77adcdebca
  api_root: https://gitlab.umich.edu/api/v4
  base_url: https://gitlab.umich.edu
  auth_endpoint: oauth/authorize

media_folder: static/assets
public_folder: assets
collections:
  - name: settings
    label: Settings
    editor:
      preview: false
    files:
      - name: contact_info
        label: Contact info
        file: src/content/contact-info.md
        fields:
          - { name: type, label: Type, widget: hidden, default: contact_info }
          - { name: name, label: Name }
          - { name: address, label: Address }
          - { name: city, label: City }
          - { name: state, label: State }
          - { name: zip, label: Zip }
          - { name: email, label: Email }
          - { name: contact_link, label: "Contact us URL" }
          - name: social
            label: Social links
            label_singular: Social link
            widget: list
            fields: 
              - { name: social_name, label: Social name }
              - { name: social_link, label: Social link }
  - name: landing_pages
    label: Landing pages
    editor:
      preview: false
    files:
      - name: homepage
        label: Homepage
        file: src/content/homepage.md
        fields:
          - { name: type, label: Name, widget: hidden, default: homepage }
          - name: hero_section
            label: Hero section
            widget: object
            fields:
              - { name: heading, label: Heading }
              - { name: text, label: Text, widget: markdown }
              - name: video
                label: Video
                widget: file
                default: ""
          - name: highlight
            label: Highlight
            widget: object
            fields:
              - { name: heading, label: Heading }
              - { name: link_text, label: Link text }
              - { name: link_url, label: Link URL }
              - name: image
                label: Image
                widget: object
                fields:
                  - { name: file, label: File, widget: image }
                  - { name: alt, label: Alt text }
          - {
            name: profile,
            label: Featured profile,
            widget: relation,
            collection: profiles,
            searchFields: [title],
            valueField: title,
          }
          - {
            name: stories,
            label: Featured stories,
            widget: relation,
            collection: stories,
            searchFields: [title],
            valueField: title,
            multiple: true,
          }
          - name: infographics
            label: Infographics section
            widget: object
            fields:
              - {name: heading, label: Heading}
              - name: infographics
                label: Infographics
                label_singular: Infographic
                widget: list
                fields:
                  - { name: large_text, label: Large text }
                  - { name: small_text, label: Small text }

  - name: pages
    label: Pages
    label_singular: Page
    editor:
      preview: false
    folder: src/content/pages
    create: true
    fields:
      - { name: title, label: Title }
      - { name: path, label: Path }
      - { name: body, label: Body, widget: markdown }
      - { name: type, label: Type, widget: hidden, default: page }

  - name: books
    label: Books
    label_singular: Book
    create: true
    editor:
      preview: false
    folder: src/content/books
    fields:
      - { name: title, label: Title }
      - { name: link, label: Link, required: false, default: "" }
      - { name: author, label: Author }
      - name: image
        label: Image
        widget: object
        fields:
          - { name: file, label: File, widget: image }
          - { name: alt, label: Alt text }
      - { name: description, label: Description, widget: text }
      - { name: type, label: Type, widget: hidden, default: book }

  - name: stories
    label: Stories
    label_singular: Story
    create: true
    folder: src/content/stories
    fields:
      - { name: published, label: Published, widget: boolean, default: true }
      - {
          name: categories,
          label: Categories,
          widget: relation,
          collection: categories,
          searchFields: [title],
          valueField: title,
          multiple: true,
        }
      - { name: title, label: Title }
      - { name: path, label: Path, default: /stories-of-impact/story-name }
      - name: hero
        label: Hero section
        widget: object
        required: false
        fields:
          - { name: text, label: Text, widget: text, required: false, default: "" }
          - { name: story_hero_image, label: Image, widget: image, required: false, default: "" }
      - name: story_image
        label: Image
        widget: object
        fields:
          - { name: file, label: File, widget: image }
          - { name: alt, label: Alt text }
          - { name: caption, label: Caption, required: false, default: "" }
          - { name: credit, label: Credit, required: false, default: "" }
      - { name: body, label: Body, widget: markdown }
      - { name: author, label: Author, required: false }
      - { name: date, label: Date, widget: date }
      - name: highlight_box
        label: Highlight box
        widget: object
        required: false
        fields:
          - { name: text, label: Text, widget: markdown, required: false, default: "" }
      - {
          name: books,
          label: Books,
          widget: relation,
          collection: books,
          searchFields: [title],
          valueField: title,
          multiple: true,
          required: false,
          default: [""]
        }
      - {
          name: profiles,
          label: Profiles,
          widget: relation,
          collection: profiles,
          searchFields: [title],
          valueField: title,
          multiple: true,
          required: false,
          default: [""],
        }
      - {
          name: related_stories,
          label: Related Stores,
          widget: relation,
          collection: stories,
          searchFields: [title],
          valueField: title,
          multiple: true,
          required: false,
          default: [""],
        }
      - { name: type, label: Type, widget: hidden, default: story }

  - name: profiles
    label: Profiles
    label_singular: Profile
    create: true
    folder: src/content/profiles
    editor:
      preview: false
    fields:
      - { name: title, label: Name }
      - { name: job_title, label: Title }
      - { name: faculty_image, label: Image, widget: image }
      - name: quotes
        label: Quotes
        label_singular: Quote
        widget: list
        required: false
        fields:
          - { name: quote, label: Quote, widget: text }
      - { name: bio, label: Bio, widget: text, default: "", required: false }
      - { name: type, label: Type, widget: hidden, default: profile}

  - name: categories
    label: Categories
    label_singular: Category
    create: true
    folder: src/content/categories
    editor:
      preview: false
    fields:
      - { name: title, label: Title }
